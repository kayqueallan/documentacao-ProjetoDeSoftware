@startuml
skinparam classAttributeIconSize 0

' ============================
' CLASSES PRINCIPAIS
' ============================

class Usuario {
  - id: int
  - nome: string
  - email: string
  - senha: string
  - tipo: TipoUsuario
  --
  + realizarLogin()
  + atualizarPerfil()
}

enum TipoUsuario {
  LEITOR
  BIBLIOTECARIO
  ADMINISTRADOR
}

class Livro {
  - id: int
  - titulo: string
  - autor: string
  - categoria: string
  - ano: int
  - status: StatusLivro
  --
  + atualizarStatus()
}

enum StatusLivro {
  DISPONIVEL
  EMPRESTADO
  RESERVADO
  INDISPONIVEL
}

class Emprestimo {
  - id: int
  - dataEmprestimo: date
  - dataPrevista: date
  - dataDevolucao: date
  --
  + registrarDevolucao()
}

class Reserva {
  - id: int
  - dataReserva: date
  --
  + cancelarReserva()
}

class Multa {
  - id: int
  - valor: double
  - statusPagamento: StatusPagamento
  --
  + calcularValor()
  + registrarPagamento()
}

enum StatusPagamento {
  PENDENTE
  PAGO
}

class Relatorio {
  - periodoInicial: date
  - periodoFinal: date
  --
  + gerarRelatorioEmprestimos()
}

' ============================
' RELACIONAMENTOS
' ============================

Usuario "1" --> "0..*" Emprestimo : realiza >
Usuario "1" --> "0..*" Reserva : faz >
Usuario "1" --> "0..*" Multa : possui >

Emprestimo "1" --> "1" Livro : refere-se >
Reserva "1" --> "1" Livro : diz respeito >

Multa "1" --> "1" Emprestimo : origem >

Bibliotecario --|> Usuario
Administrador --|> Usuario
Leitor --|> Usuario

class Bibliotecario {
  + cadastrarLivro()
  + registrarEmprestimo()
  + registrarDevolucao()
}

class Administrador {
  + gerenciarPermissoes()
  + gerenciarBibliotecarios()
  + configurarSistema()
}

class Leitor {
  + pesquisarLivros()
  + reservarLivro()
  + pagarMulta()
}

@enduml
